<!doctype html>
<title>Mono</title>
  <img id=monoimg src="{{ filename }}"></img>
<script>
    function load() {
        init();
    }
    window.addEventListener( "keydown", doKeyDown, false );
    window.onload = load;    
    window.onresize = load;

    function init() {
        monoimg = document.getElementById("monoimg");
        winAspectRatio = window.innerWidth / window.innerHeight;
        imgAspectRatio = monoimg.width / monoimg.height;
        if (imgAspectRatio < winAspectRatio) {
            monoimg.height = window.innerHeight;
            monoimg.width = monoimg.height * imgAspectRatio;
        }
        else {
            monoimg.width = window.innerWidth;
            monoimg.height = monoimg.width / imgAspectRatio;
        }
    }
    function doKeyDown(e){
        //alert("keyCode: ["+e.keyCode+"]");
        if (e.keyCode == 37) {    // left arrow
            window.location = "/imono/-1";
        }
        else if (e.keyCode == 39) {    // right arrow
            window.location = "/imono/-2";
        }
        else if (e.keyCode == 38) {    // up arrow
            window.location = "/grid/";        //!! was igrid
        }
    }  
</script>
  
